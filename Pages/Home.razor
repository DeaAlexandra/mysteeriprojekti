@page "/home"
@inject NavigationManager NavigationManager

<PageTitle>Home</PageTitle>

@code {
    private List<string> etsittavat = new List<string> { "Kirja", "Talismaani", "Kirstalli" };

    private void handleContinueClick()
    {
        NavigationManager.NavigateTo("/valinta");
    }
}

<div class="main-container">
    <div class="left-container">
        <h2>Hahmot</h2>
        <div>
            <input type="radio" id="hahmo1" name="characters" value="Prinsessa" class="hidden-radio" onchange="checkSelection()">
            <label for="hahmo1" class="selectable-item">
                <img src="Pictures/Characters/Princess.jpg" alt="Prinsessa" class="image-button" />
            </label>
        </div>
        <div>
            <input type="radio" id="hahmo2" name="characters" value="Ritari" class="hidden-radio" onchange="checkSelection()">
            <label for="hahmo2" class="selectable-item">
                <img src="Pictures/Characters/Gnome.jpg" alt="Kääpiö" class="image-button" />
            </label>
        </div>
        <div>
            <input type="radio" id="hahmo3" name="characters" value="Metsästäjä" class="hidden-radio" onchange="checkSelection()">
            <label for="hahmo3" class="selectable-item">
                <img src="Pictures/Characters/Hunter.jpg" alt="Metsästäjä" class="image-button" />
            </label>
        </div>
    </div>

    <div class="right-container">
        <h2>Mitä lähdet etsimään?</h2>
        <div>
            <input type="radio" id="item1" name="etsittavat" value="Kirja" class="hidden-radio" onchange="checkSelection()">
            <label for="item1" class="selectable-item">
                <img src="Pictures/Search_items/Book_small.jpg" alt="Kirja" class="image-button" />
            </label>
        </div>

        <div>
            <input type="radio" id="item2" name="etsittavat" value="Talismaani" class="hidden-radio" onchange="checkSelection()">
            <label for="item2" class="selectable-item">
                <img src="Pictures/Search_items/Amulet_large.jpg" alt="Talismaani" class="image-button" />
            </label>
        </div>

        <div>
            <input type="radio" id="item3" name="etsittavat" value="Kirstalli" class="hidden-radio" onchange="checkSelection()">
            <label for="item3" class="selectable-item">
                <img src="Pictures/Search_items/Chrystal_large.jpg" alt="Kirstalli" class="image-button" />
            </label>
        </div>
    </div>
</div>

<div class="popup-button-container">
    <img 
        id="continue-button" 
        class="continue-button" 
        src="6188818.png" 
        alt="Continue" 
        style="display: none;" 
        @onclick="handleContinueClick" 
    />
</div>

<style>
    :root {
        --side-margin: 20px;
    }

    .main-container {
        display: flex;
        flex-direction: row;
        justify-content: center;
        align-items: center;
        height: 100vh;
        background-image: url("/Pictures/Starting_page_background.jpg");
        background-size: cover;
        background-position: center;
        position: relative; /* Make sure the main container doesn't affect the button */
    }

    .left-container, .right-container {
        width: 45%;
        margin: 0 var(--side-margin);
        text-align: center;
    }

    .hidden-radio {
        display: none;
    }

    .selectable-item {
        display: inline-block;
        padding: 5px;
        cursor: pointer;
    }

    .hidden-radio:checked + .selectable-item {
        border: 2px solid gray;
        border-radius: 5px;
    }

    .popup-button-container {
        position: fixed; /* Keep the button fixed in the viewport */
        top: 50%; /* Center vertically */
        left: 50%; /* Center horizontally */
        transform: translate(-50%, -50%); /* Center alignment */
        z-index: 10; /* Ensure the button is above other content */
    }

    .continue-button {
        width: 100px; /* Adjust the size of the image */
        height: auto;
        cursor: pointer;
    }

    .image-button {
        width: 100px; /* Adjust the size as needed */
        height: auto;
    }
</style>

<script>
    function checkSelection() {
        const characterSelected = document.querySelector('input[name="characters"]:checked');
        const weaponSelected = document.querySelector('input[name="etsittavat"]:checked');
        const continueButton = document.getElementById('continue-button');

        if (characterSelected && weaponSelected) {
            continueButton.style.display = 'block';
        } else {
            continueButton.style.display = 'none';
        }
    }
</script>